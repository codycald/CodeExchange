<div class='container' ng-controller='questionDetailCtrl'>
    <div class='row'>
        <div class='col-xs-10 col-xs-offset-1'>
            <div class='row'>
                <!--title-->
                <div class='col-xs-12'>
                    <h3>{{question.title}}</h3>
                </div>
            </div>
            <!--question-->
            <div class='row'>
                <div class='col-xs-2'>
                    <!--Up arrow-->
                    <div class='row'>
                        <div class='col-xs-12'>
                            <button class='btn btn-default btn-xs' ng-click='upvote(question)'>Up</button>
                        </div>
                    </div>
                    <!--Vote count-->
                    <div class='row'>
                        <div class='col-xs-12'>
                            <h3>{{question.votes}}</h3>
                        </div>
                    </div>
                    <!--Down arrow-->
                    <div class='row'>
                        <div class='col-xs-12'>
                            <button class='btn btn-default btn-xs' ng-click='downvote(question)'>Down</button>
                        </div>
                    </div>
                </div>
                <div class='col-xs-10 '>
                    <!--text-->
                    <div class='row'>
                        <div class='col-xs-12'>
                            <p>{{question.text}}</p>
                        </div>
                    </div>
                    <!--profile-->
                    <div class='row pull-right'>
                        <div col='col-xs-12'>
                            <h4>{{question.author.username}}</h4>
                        </div>
                    </div>
                    <!--comments-->
                    <div class='row' ng-repeat='comment in question.comments'>
                        <div class='col-xs-12'>
                            <hr>
                            <p>{{comment.text}} - {{comment.author.username}}</p>
                        </div>
                    </div>
                    <div class='row'>
                        <div class='col-xs-12'>
                            <hr>
                        </div>
                    </div>
                    <!--comment box-->
                    <div class='row' ng-init='commenting = false'>
                        <div class='col-xs-12'>
                            <a href='' ng-click='commenting = ensureLoggedIn(commenting);'>add a comment</a>
                        </div>
                    </div>
                    <div class='row' ng-show='commenting'>
                        <div class='col-xs-12'>
                            <div>
                                <textarea cols='80' rows='7' ng-model='textArea'></textarea>
                            </div>
                        </div>
                        <div class='col-xs-12'>
                            <div>
                                <button class='btn btn-primary' ng-click='submitComment(question); commenting = false;'>Submit</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--answers-->
            <h2>{{question.answers.length}} Answers</h2>
            <div class='row' ng-repeat='answer in question.answers'>
                <hr>
                <div class='col-xs-2'>
                    <!--Up arrow-->
                    <div class='row'>
                        <div class='col-xs-12'>
                            <button class='btn btn-default btn-xs' ng-click='upvote(answer)'>Up</button>
                        </div>
                    </div>
                    <!--Vote count-->
                    <div class='row'>
                        <div class='col-xs-12'>
                            <h3>{{answer.votes}}</h3>
                        </div>
                    </div>
                    <!--Down arrow-->
                    <div class='row'>
                        <div class='col-xs-12'>
                            <button class='btn btn-default btn-xs' ng-click='downvote(answer)'>Down</button>
                        </div>
                    </div>
                </div>
                <div class='col-xs-10 '>
                    <!--text-->
                    <div class='row'>
                        <div class='col-xs-12'>
                            <p>{{answer.text}}</p>
                        </div>
                    </div>
                    <!--profile-->
                    <div class='row pull-right'>
                        <div col='col-xs-12'>
                            <h4>{{answer.author.username}}</h4>
                        </div>
                    </div>
                    <!--comments-->
                    <div class='row' ng-repeat='comment in answer.comments'>
                        <div class='col-xs-12'>
                            <hr>
                            <p>{{comment.text}} - {{comment.author.username}}</p>
                        </div>
                    </div>
                    <!--comment box-->
                    <div class='row' ng-init='commenting = false'>
                        <div class='col-xs-12'>
                            <a href='' ng-click='commenting = ensureLoggedIn(commenting);'>add a comment</a>
                        </div>
                    </div>
                    <div class='row' ng-show='commenting'>
                        <div class='col-xs-12'>
                            <div>
                                <textarea cols='80' rows='7' ng-model='$parent.textArea'></textarea>
                            </div>
                        </div>
                        <div class='col-xs-12'>
                            <div>
                                <button class='btn btn-primary' ng-click='submitComment(answer); commenting = false;'>Submit</button>
                            </div>
                        </div>
                    </div>
                </div>
        </div>
        <hr>
        <h3>Have an answer?</h3>
        <!--answer box-->
        <div class='row'>
            <div class='col-xs-12'>
                <textarea cols='80' rows='10' ng-model='answerText'></textarea>
            </div>
            <div class='col-xs-12'>
                <button class='btn btn-primary' ng-click='submitAnswer(question);'>Submit</button>
            </div>
        </div>
    </div>
</div>
